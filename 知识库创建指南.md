# 知识库创建指南

## 📚 什么是知识库？

知识库是 RAG（检索增强生成）功能的基础。当你创建知识点时，系统会自动：
1. 将知识点内容分割成多个文本块
2. 通过百度千帆 Embedding API 将文本转换为向量
3. 存储到本地向量数据库中

这样，AI 助手就能基于你的知识点内容来回答问题。

## 🚀 如何创建知识点（知识库）

### 方法一：通过主页创建（推荐）

1. **登录系统**
   - 访问 `http://localhost:5173`（前端地址）
   - 使用你的账号登录

2. **进入主页**
   - 登录后会自动跳转到主页（Dashboard）
   - 如果还没有知识点，会显示"还没有知识点"的提示

3. **点击"新建知识点"按钮**
   - 在主页顶部或空状态提示中，找到 **"+ 新建知识点"** 按钮
   - 点击后进入知识点编辑页面

4. **填写知识点信息**
   - **标题**：输入知识点的标题（例如："React Hooks 基础"）
   - **内容**：输入详细的内容（可以使用富文本编辑器，支持格式化）
     - 💡 **提示**：内容越详细，AI 回答越准确
     - 建议内容长度至少 200 字以上
   - **状态**：选择学习状态（待学习/学习中/已掌握）

5. **保存知识点**
   - 点击"保存"按钮
   - 系统会自动：
     - 保存知识点到数据库
     - 异步处理并索引到向量数据库
     - 返回主页

6. **等待索引完成**
   - 查看后端控制台，应该能看到类似日志：
     ```
     正在为知识点 xxx 创建向量...
     知识点被分割成 N 个文本块。
     知识点 xxx 的向量已成功保存。
     ```
   - 索引完成后，向量数据库就建立好了

### 方法二：直接访问创建页面

直接访问：`http://localhost:5173/kp/new`

## ✅ 验证知识库是否创建成功

### 1. 检查向量数据库文件

在项目根目录下，应该会生成 `vector_store` 文件夹，里面包含：
- `args.json`
- `docstore.json`
- `hnswlib.index`

### 2. 查看后端日志

创建知识点后，后端控制台应该显示：
```
正在为知识点 xxx 创建向量...
知识点被分割成 N 个文本块。
未找到向量库，正在创建新的...
知识点 xxx 的向量已成功保存。
```

### 3. 测试 AI 助手

1. 访问 AI 助手页面：`http://localhost:5173/agent`
2. 提问与你的知识点相关的问题
3. 如果 AI 能基于你的知识点回答，说明知识库创建成功！

## 📝 创建知识点的最佳实践

### 内容建议

1. **内容要详细**
   - 至少 200-500 字
   - 包含关键概念、定义、示例等

2. **结构要清晰**
   - 使用标题、段落、列表等格式
   - 便于 AI 理解和检索

3. **主题要明确**
   - 每个知识点聚焦一个主题
   - 便于精确检索

### 示例知识点

**标题**：React Hooks 基础

**内容**：
```
## 什么是 React Hooks？

React Hooks 是 React 16.8 引入的新特性，它允许你在函数组件中使用状态和其他 React 特性。

## 常用的 Hooks

### useState
useState 用于在函数组件中添加状态。

示例：
```javascript
const [count, setCount] = useState(0);
```

### useEffect
useEffect 用于处理副作用，如数据获取、订阅等。

## Hooks 的优势

1. 代码更简洁
2. 逻辑复用更容易
3. 函数组件功能更强大
```

## 🔧 常见问题

### Q: 创建知识点后，AI 助手还是说"知识库还没有内容"？

**A:** 可能的原因：
1. 向量索引还在进行中（等待几秒钟）
2. 后端服务没有正常运行
3. 查看后端日志，检查是否有错误

**解决方法**：
- 等待 5-10 秒后重试
- 检查后端控制台是否有错误日志
- 确保后端服务正在运行

### Q: 如何知道知识点是否已索引？

**A:** 查看后端控制台日志：
- ✅ 成功：看到"知识点 xxx 的向量已成功保存"
- ❌ 失败：看到错误信息（通常是 API 配置问题）

### Q: 可以创建多个知识点吗？

**A:** 可以！创建多个知识点后，它们都会被索引到同一个向量数据库中。AI 助手可以基于所有知识点来回答问题。

### Q: 如何更新知识点的向量索引？

**A:** 当你编辑并保存知识点时，系统会自动重新索引该知识点。

## 🎯 下一步

创建知识点后，你可以：
1. 访问 **AI 助手** 页面提问
2. 使用 **语音学习** 功能练习
3. 使用 **AI 出题** 功能测试掌握程度

祝你学习愉快！🎉

